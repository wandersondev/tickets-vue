{"version":3,"file":"autocomplete.js","names":["shallowRef","toRef","useId","propsFactory","makeAutocompleteProps","autocomplete","String","useAutocomplete","props","uniqueId","reloadTrigger","isSuppressing","fieldName","value","name","fieldAutocomplete","update","Date","getTime"],"sources":["../../src/composables/autocomplete.ts"],"sourcesContent":["// Utilities\nimport { shallowRef, toRef, useId } from 'vue'\nimport { propsFactory } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\n\n// Types\nexport interface InputAutocompleteProps {\n  autocomplete: 'suppress' | string | undefined\n  name?: string\n}\n\n// Composables\nexport const makeAutocompleteProps = propsFactory({\n  autocomplete: String as PropType<'suppress' | string>,\n}, 'autocomplete')\n\nexport function useAutocomplete (props: InputAutocompleteProps) {\n  const uniqueId = useId()\n  const reloadTrigger = shallowRef(0)\n\n  const isSuppressing = toRef(() => props.autocomplete === 'suppress')\n\n  const fieldName = toRef(() => {\n    return isSuppressing.value\n      ? `${props.name}-${uniqueId}-${reloadTrigger.value}`\n      : props.name\n  })\n\n  const fieldAutocomplete = toRef(() => {\n    return isSuppressing.value\n      ? 'off'\n      : props.autocomplete\n  })\n\n  return {\n    isSuppressing,\n    fieldAutocomplete,\n    fieldName,\n    update: () => reloadTrigger.value = new Date().getTime(),\n  }\n}\n"],"mappings":"AAAA;AACA,SAASA,UAAU,EAAEC,KAAK,EAAEC,KAAK,QAAQ,KAAK;AAAA,SACrCC,YAAY,4BAErB;AAGA;AAMA;AACA,OAAO,MAAMC,qBAAqB,GAAGD,YAAY,CAAC;EAChDE,YAAY,EAAEC;AAChB,CAAC,EAAE,cAAc,CAAC;AAElB,OAAO,SAASC,eAAeA,CAAEC,KAA6B,EAAE;EAC9D,MAAMC,QAAQ,GAAGP,KAAK,CAAC,CAAC;EACxB,MAAMQ,aAAa,GAAGV,UAAU,CAAC,CAAC,CAAC;EAEnC,MAAMW,aAAa,GAAGV,KAAK,CAAC,MAAMO,KAAK,CAACH,YAAY,KAAK,UAAU,CAAC;EAEpE,MAAMO,SAAS,GAAGX,KAAK,CAAC,MAAM;IAC5B,OAAOU,aAAa,CAACE,KAAK,GACtB,GAAGL,KAAK,CAACM,IAAI,IAAIL,QAAQ,IAAIC,aAAa,CAACG,KAAK,EAAE,GAClDL,KAAK,CAACM,IAAI;EAChB,CAAC,CAAC;EAEF,MAAMC,iBAAiB,GAAGd,KAAK,CAAC,MAAM;IACpC,OAAOU,aAAa,CAACE,KAAK,GACtB,KAAK,GACLL,KAAK,CAACH,YAAY;EACxB,CAAC,CAAC;EAEF,OAAO;IACLM,aAAa;IACbI,iBAAiB;IACjBH,SAAS;IACTI,MAAM,EAAEA,CAAA,KAAMN,aAAa,CAACG,KAAK,GAAG,IAAII,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC;EACzD,CAAC;AACH","ignoreList":[]}